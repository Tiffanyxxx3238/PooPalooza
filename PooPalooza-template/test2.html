<!DOCTYPE html>
<html lang="en">



<body>

  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="container-fluid container-xl d-flex align-items-center">
      <a href="index.html" class="logo d-flex align-items-center me-auto">
        <img src="images/icon.png" alt="">
        <h1 class="sitename">PooPalooza</h1>
      </a>
      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html#hero" class="active">主頁</a></li>
          <li class="dropdown">
            <a href="#"><span>功能</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="#map">廁所地圖</a></li>
              <li><a href="#education">衛教</a></li>
              <li><a href="#aboutus">關於我們</a></li>
            </ul>
          </li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>
      <a class="btn-getstarted" href="#login">登入</a>
      <a class="btn-getstarted" href="#register">註冊</a>
    </div>
  </header>

  <div class="md-mindmap">
    <!--    <img src="https://files.slack.com/files-pri/T04N5G6SL-FD5D0NB6U/interactive-image.png" class="md-mindmap__main-img"> -->
       <img src="https://cdn.redshift.autodesk.com/2015/11/3D_printing_concrete.jpg" class="md-mindmap__main-img">
      
       <a href="#" class="md-mindmap__back-button">Back</a>
       
    <!--    <div class="equipment-box" style="background-image: url('https://wallpapercave.com/wp/u9AVLry.jpg')">  
       <div class="equipment-box__outer">
       <div class="equipment-box__inner">
          
          
             <article class="df-product-box">
               <header class="df-product-box__header df-product-box__border-bottom">
               <div class="text-center block-link">
                   <span class="block u_mb--2">RECOMMENDED PRODUCTS</span>
                   <h3 class="fs_oak t_color--highlight u_mb--0 u_mt--0">16. Horizontal Lifelines & Anchors</h3>
               </div>
               </header>
    
             <div class="df-product-box__list">
    
    
                <div class="df-product-box__row">  
                <div class="df-product-box__row-outer">
                <div class="df-product-box__row-inner">
    
                   <div class="slider">
    
                      <div class="df-product-box__item-number-wrap">
                         <span class="df-circle df-circle--mid df-circle--green df-circle--inverse">1</span>
                      </div>
    
                      <div class="df-slide-product__item-list slider__wrapper">
                      <div class="df-slide-product__item slider__item">
                          <div class="df-slide-product__main-sidebar">
                             <div class="df-slide-product__card">
                                <img class="position-center" src="https://i.imgur.com/zjjMeB6.png" alt="">
                             </div>
                          </div>
                          <div class="df-slide-product__main-content">
                             <div class="df-slide-product__header">
                                  <h3 class="df-slide-product__title"><b>Tracpode</b></h3>
                                  <span class="df-slide-product__sub-title">Tripod</span>
                             </div>
                              <a href="#" class="df-slide-product__link"> View Product</a>
                          </div>
                      </div> 
                      </div>
    
                   </div>
    
                </div>
                </div>
                </div>
    
                <div class="df-product-box__row">  
                <div class="df-product-box__row-outer">
                <div class="df-product-box__row-inner">
    
                   <div class="slider">
    
                      <div class="df-product-box__item-number-wrap">
                         <span class="df-circle df-circle--mid df-circle--green df-circle--inverse">2</span>
                      </div>
    
                      <div class="df-slide-product__item-list slider__wrapper">
                      <div class="df-slide-product__item slider__item">
                          <div class="df-slide-product__main-sidebar">
                             <div class="df-slide-product__card">
                                <img class="position-center" src="https://i.imgur.com/zjjMeB6.png" alt="">
                             </div>
                          </div>
                          <div class="df-slide-product__main-content">
                             <div class="df-slide-product__header">
                                  <h3 class="df-slide-product__title"><b>Rope</b> LDA 11</h3>
                                  <span class="df-slide-product__sub-title">Shock absorbing lanyard</span>
                             </div>
                              <a href="#" class="df-slide-product__link"> View Product</a>
                          </div>
                      </div> 
                         <div class="df-slide-product__item slider__item">
                          <div class="df-slide-product__main-sidebar">
                             <div class="df-slide-product__card">
                                <img class="position-center" src="https://i.imgur.com/zjjMeB6.png" alt="">
                             </div>
                          </div>
                          <div class="df-slide-product__main-content">
                             <div class="df-slide-product__header">
                                  <h3 class="df-slide-product__title"><b>Roererpe</b> LDA 11</h3>
                                  <span class="df-slide-product__sub-title">Shock absorbing lanyard</span>
                             </div>
                              <a href="#" class="df-slide-product__link"> View Product</a>
                          </div>
                      </div> 
                      <div class="df-slide-product__item slider__item">
                          <div class="df-slide-product__main-sidebar">
                             <div class="df-slide-product__card">
                                <img class="position-center" src="https://i.imgur.com/zjjMeB6.png" alt="">
                             </div>
                          </div>
                          <div class="df-slide-product__main-content">
                             <div class="df-slide-product__header">
                                  <h3 class="df-slide-product__title"><b>Harness</b>ET 10</h3>
                                  <span class="df-slide-product__sub-title">Chest belt fitted</span>
                             </div>
                              <a href="#" class="df-slide-product__link"> View Product</a>
                          </div>
                      </div>
                      <div class="df-slide-product__item slider__item">
                          <div class="df-slide-product__main-sidebar">
                             <div class="df-slide-product__card">
                                <img class="position-center" src="https://i.imgur.com/zjjMeB6.png" alt="">
                             </div>
                          </div>
                          <div class="df-slide-product__main-content">
                             <div class="df-slide-product__header">
                                  <h3 class="df-slide-product__title"><b>Harness</b>ET 10</h3>
                                  <span class="df-slide-product__sub-title">Chest belt fitted</span>
                             </div>
                              <a href="#" class="df-slide-product__link"> View Product</a>
                          </div>
                      </div>
                      </div>
    
                   </div>
    
                </div>
                </div>
                </div>
    
                <div class="df-product-box__row">  
                <div class="df-product-box__row-outer">
                <div class="df-product-box__row-inner">
    
                   <div class="slider">
    
                      <div class="df-product-box__item-number-wrap">
                         <span class="df-circle df-circle--mid df-circle--green df-circle--inverse">3</span>
                      </div>
    
                      <div class="df-slide-product__item-list slider__wrapper">
                      <div class="df-slide-product__item slider__item">
                          <div class="df-slide-product__main-sidebar">
                             <div class="df-slide-product__card">
                                <img class="position-center" src="https://i.imgur.com/zjjMeB6.png" alt="">
                             </div>
                          </div>
                          <div class="df-slide-product__main-content">
                             <div class="df-slide-product__header">
                                  <h3 class="df-slide-product__title"><b>Harness</b>ET 10</h3>
                                  <span class="df-slide-product__sub-title">Chest belt fitted</span>
                             </div>
                              <a href="#" class="df-slide-product__link"> View Product</a>
                          </div>
                      </div>
                      <div class="df-slide-product__item slider__item">
                          <div class="df-slide-product__main-sidebar">
                             <div class="df-slide-product__card">
                                <img class="position-center" src="https://i.imgur.com/zjjMeB6.png" alt="">
                             </div>
                          </div>
                          <div class="df-slide-product__main-content">
                             <div class="df-slide-product__header">
                                  <h3 class="df-slide-product__title"><b>Harness</b>ET 10</h3>
                                  <span class="df-slide-product__sub-title">Chest belt fitted</span>
                             </div>
                              <a href="#" class="df-slide-product__link"> View Product</a>
                          </div>
                      </div>
                      </div>
    
                   </div>
    
                </div>
                </div>
                </div>
    
    
             </div>
           </article>
       
           
       </div>
       </div> 
       </div> -->
       
       
       <div class="md-mindmap__item md-mindmap__item-16">
          <button class="md-bubble md-bubble--signal-effect" data-equipment-id="16">
             <span class="md-bubble__bg"></span>
             <span class="md-bubble__number">16</span>
          </button>
       </div>
       <div class="md-mindmap__item md-mindmap__item-17">
          <button class="md-bubble md-bubble--signal-effect" data-equipment-id="17">
             <span class="md-bubble__bg"></span>
             <span class="md-bubble__number">17</span>
          </button>
       </div>
       <div class="md-mindmap__item md-mindmap__item-18">
          <button class="md-bubble md-bubble--signal-effect" data-equipment-id="18">
             <span class="md-bubble__bg"></span>
             <span class="md-bubble__number">18</span>
          </button>
       </div>
       <div class="md-mindmap__item md-mindmap__item-19">
          <button class="md-bubble md-bubble--signal-effect" data-equipment-id="19">
             <span class="md-bubble__bg"></span>
             <span class="md-bubble__number">19</span>
          </button>
       </div>
       <div class="md-mindmap__item md-mindmap__item-20">
          <button class="md-bubble md-bubble--signal-effect" data-equipment-id="20">
             <span class="md-bubble__bg"></span>
             <span class="md-bubble__number">20</span>
          </button>
       </div>
       
    </div>
    <style>
html,
body {
    height: 100%;
    width: 100%;
    background-color: black;
    overflow: hidden;
    margin: 0;
}

.md-equipment-box {
    background-color: black;
    position: fixed;
    overflow: auto;
    z-index: 400;
    inset: 0; /* shorthand for top, right, bottom, left */
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    padding: 77px 6%;
}

.md-equipment-box__inner {
    position: relative;
}

.md-mindmap {
    position: relative;
}

.md-mindmap__main-img {
    width: 100%;
    height: auto;
    display: block;
}

.md-mindmap__back-button {
    font-size: 12px;
    text-decoration: none;
    font-family: Arial, sans-serif;
    font-weight: bold;
    position: fixed;
    top: 30px;
    left: 30px;
    color: white;
    z-index: 600;
}

.md-mindmap__item {
    position: absolute;
}

.md-mindmap__item-16 {
    top: 42%;
    left: 46%;
}

.md-mindmap__item-17 {
    top: 74%;
    left: 82%;
}

.md-mindmap__item-18 {
    top: 10%;
    left: 10%;
}

.md-mindmap__item-19 {
    top: 19%;
    left: 32%;
}

.md-mindmap__item-20 {
    top: 52%;
    left: 16.5%;
}

.md-bubble {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 16px;
    font-weight: bold;
    position: relative;
    z-index: 1;
    display: inline-block;
    width: 54px;
    height: 54px;
    line-height: 54px;
    cursor: pointer;
    text-align: center;
    text-decoration: none;
    color: #fff;
    border: 1px solid white;
    border-radius: 50%;
    background: none;
    outline: none;
    transition: all 0.2s linear;
}

.md-bubble:hover {
    color: white;
    border-color: #86c543;
}

.md-bubble__bg {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 24px;
    height: 24px;
    line-height: 46px;
    padding: 4px;
    transform: translate(-50%, -50%);
    border-radius: 50%;
    background: rgba(214, 214, 214, 0.16);
}

.md-bubble--signal-effect::after {
    position: absolute;
    top: -10px;
    left: -10px;
    width: 100%;
    height: 100%;
    padding: 10px;
    box-shadow: 0 0 0 1px #86c543;
    border-radius: 50%;
    content: '';
    transform: scale(0.8);
    opacity: 0;
    transition: transform 0.2s, opacity 0.2s;
}

.md-product-box {
    font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
    background-color: white;
    width: 470px;
    border-radius: 2px;
    box-shadow: 0px 6px 20px -10px rgba(0, 0, 41, 1);
    overflow: hidden;
}

.md-product-box ul,
.md-product-box ol {
    margin: 0;
    padding: 0;
    list-style: none;
}

.md-product-box__border-bottom {
    border-bottom: 2px solid #f5f5f5;
}

.md-product-box__list {
    padding: 0 30px;
    overflow: hidden;
}

.md-circle {
    border-radius: 50%;
    text-align: center;
    border: 2px solid #86c543;
    background-color: #86c543;
    color: white;
    font-size: 16px;
    line-height: 34px;
    display: inline-block;
}

.md-circle--inverse {
    background-color: white;
    color: #86c543;
}

.md-slide-product {
    overflow: hidden;
}

.md-slide-product__row::after {
    content: '';
    display: table;
    clear: both;
}

.md-slide-product__nav {
    position: absolute;
    bottom: -19px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
}

.md-slide-product__nav-item {
    width: 5px;
    height: 5px;
    background-color: #e3e3e3;
    border-radius: 50%;
    cursor: pointer;
    margin-right: 6px;
}

.md-slide-product__nav-item.is-active {
    background-color: #009fe3;
    border-color: #008dc9;
}

.slider {
    position: relative;
}

.slider__wrapper {
    display: flex;
    width: 100%;
    transition: margin 0.6s ease-out;
}

.slider__item {
    flex: 0 0 400px;
    margin-right: 40px;
}

.slider-toggles {
    display: flex;
    position: absolute;
    bottom: -15px;
    left: 50%;
    transform: translateX(-50%);
}

.slider-toggles__item {
    width: 5px;
    height: 5px;
    background-color: #e3e3e3;
    border-radius: 50%;
    cursor: pointer;
    margin-right: 6px;
}

.slider-toggles__item.is-active {
    background-color: #009fe3;
    border-color: #008dc9;
}

.position-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.block-link {
    background: #fff;
    padding: 30px;
}

.fs_oak {
    font-size: 1.5rem;
    letter-spacing: -0.0125em;
}

.t_color--highlight {
    color: #009ee2;
}

.text-center {
    text-align: center;
}

.u_mb--0 {
    margin-bottom: 0;
}

.u_mb--2 {
    margin-bottom: 20px;
}

.u_mt--0 {
    margin-top: 0;
}

.block {
    display: block;
}

    </style>
    <script>

var dataEquipmentList = [
   {
      equipmentId: 16,
      equipmentTitle: "Rocket parts & the rocket",
      equipmentMainBgImg:
         "https://i.ytimg.com/vi/xuuTTjIbc38/maxresdefault.jpg",
      productList: [
         {
            rowId: 1,
            toolList: [
               {
                  toolPicture:
                     "https://ae01.alicdn.com/kf/HTB1S76KKeuSBuNjSsziq6zq8pXan/50Pcs-lot-76mm-Clear-Rocket-Head-Pendants-One-Hole-Crystal-Glass-Wedding-Chandelier-Pendants-Transparent-Color.jpg_220x220.jpg",
                  toolPictureAlt: "Awesome Picture Alt",
                  toolName: "Rocket Head",
                  toolModelNumber: "ET 10",
                  toolDescription: "Ultra Light",
                  toolUrl: "https://google.com/"
               },
               {
                  toolPicture:
                     "http://cdn.akc.org/content/hero/puppy-boundaries_header.jpg",
                  toolPictureAlt: "Awesome Picture Alt",
                  toolName: "Tracdddoda",
                  toolModelNumber: "E3sd0",
                  toolDescription: "Chest fitted",
                  toolUrl: "https://google.com/"
               }
            ]
         },
         {
            rowId: 2,
            toolList: [
               {
                  toolPicture:
                     "https://www.nasa.gov/images/content/502050main_ssme_firing.jpg",
                  toolPictureAlt: "Awesome Picture Alt",
                  toolName: "Tracoda",
                  toolModelNumber: "E450",
                  toolDescription: "Dragon helmet",
                  toolUrl: "https://google.com/"
               }
            ]
         },
         {
            rowId: 3,
            toolList: [
               {
                  toolPicture:
                     "https://qph.fs.quoracdn.net/main-qimg-b064cc8220c1c4e34e482f63722077ed-c",
                  toolPictureAlt: "Awesome Picture Alt",
                  toolName: "Tracoda",
                  toolModelNumber: "E450",
                  toolDescription: "Dragon helmet",
                  toolUrl: "https://google.com/"
               }
            ]
         }
      ]
   },
   {
      equipmentId: 17,
      equipmentTitle: "Astrounants and costumes",
      equipmentMainBgImg:
         "https://fsmedia.imgix.net/48/23/c2/0e/de6b/4f78/88bb/4e819ec2e1be/even-with-iron-ore-prices-diving-nasa-fast-tracks-mission-to-10000-quadrillion-asteroidjpg.jpeg?rect=0%2C105%2C900%2C450&dpr=2&auto=format%2Ccompress&w=650",

      productList: [
         {
            rowId: 1,
            toolList: [
               {
                  toolPicture:
                     "https://i0.wp.com/astronaut.com/wp-content/uploads/2016/10/astronaut-helmet-wallpaper-4.jpg?ssl=1",
                  toolPictureAlt: "Awesome Picture Alt",
                  toolName: "Trda",
                  toolModelNumber: "ET 550",
                  toolDescription: "Chest ted",
                  toolUrl: "https://google.com/"
               },
               {
                  toolPicture:
                     "http://cdn.akc.org/content/hero/puppy-boundaries_header.jpg",
                  toolPictureAlt: "Awesome Picture Alt",
                  toolName: "Prpda",
                  toolModelNumber: "OT 810",
                  toolDescription: "Cheatted",
                  toolUrl: "https://google.com/"
               }
            ]
         },
         {
            rowId: 2,
            toolList: [
               {
                  toolPicture:
                     "https://thespacecollective.com/image/cache/data/Products/Spacesuits/apollo-spacesuit-replica-1250x1250.jpg",
                  toolPictureAlt: "Awesome Picture Alt",
                  toolName: "Tracoda",
                  toolModelNumber: "EP 15",
                  toolDescription: "belt fitted",
                  toolUrl: "https://google.com/"
               }
            ]
         }
      ]
   },
   {
      equipmentId: 18,
      equipmentTitle: "Civilisation - Human & Animals",
      equipmentMainBgImg:
         "https://cdn.fstoppers.com/styles/large-16-9/s3/lead/2017/08/aerial_photography_how_to.jpg",

      productList: [
         {
            rowId: 1,
            toolList: [
               {
                  toolPicture:
                     "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHFnUiHIm99pJJj8LGVPUbNQW2mUBKfTUqAIMAGet9dag4MywH8w",
                  toolPictureAlt: "Dogs",
                  toolName: "Dog",
                  toolModelNumber: "Dangeours Creature",
                  toolDescription: "Bites",
                  toolUrl: "https://google.com/"
               },
               {
                  toolPicture:
                     "http://cdn.akc.org/content/hero/puppy-boundaries_header.jpg",
                  toolPictureAlt: "Awesome Picture Alt",
                  toolName: "Sheppp",
                  toolModelNumber: "K9",
                  toolDescription: "Cheatted",
                  toolUrl: "https://google.com/"
               }
            ]
         },
         {
            rowId: 2,
            toolList: [
               {
                  toolPicture:
                     "https://3c1703fe8d.site.internapcdn.net/newman/gfx/news/hires/2016/575ff5d2ca7f8.jpeg",
                  toolPictureAlt: "Awesome Picture Alt",
                  toolName: "Monkey",
                  toolModelNumber: "KD4",
                  toolDescription: "Keep distance",
                  toolUrl: "https://google.com/"
               }
            ]
         }
      ]
   },
   {
      equipmentId: 19,
      equipmentTitle: "Civilisation - Human & Animals",
      equipmentMainBgImg:
         "https://cdn.fstoppers.com/styles/large-16-9/s3/lead/2017/08/aerial_photography_how_to.jpg",

      productList: [
         {
            rowId: 1,
            toolList: [
               {
                  toolPicture:
                     "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHFnUiHIm99pJJj8LGVPUbNQW2mUBKfTUqAIMAGet9dag4MywH8w",
                  toolPictureAlt: "Dogs",
                  toolName: "Dog",
                  toolModelNumber: "Dangeours Creature",
                  toolDescription: "Bites",
                  toolUrl: "https://google.com/"
               },
               {
                  toolPicture:
                     "http://cdn.akc.org/content/hero/puppy-boundaries_header.jpg",
                  toolPictureAlt: "Awesome Picture Alt",
                  toolName: "Sheppp",
                  toolModelNumber: "K9",
                  toolDescription: "Cheatted",
                  toolUrl: "https://google.com/"
               }
            ]
         },
         {
            rowId: 2,
            toolList: [
               {
                  toolPicture:
                     "https://3c1703fe8d.site.internapcdn.net/newman/gfx/news/hires/2016/575ff5d2ca7f8.jpeg",
                  toolPictureAlt: "Awesome Picture Alt",
                  toolName: "Monkey",
                  toolModelNumber: "KD4",
                  toolDescription: "Keep distance",
                  toolUrl: "https://google.com/"
               }
            ]
         }
      ]
   },
   {
      equipmentId: 20,
      equipmentTitle: "Civilisation - Human & Animals",
      equipmentMainBgImg:
         "https://cdn.fstoppers.com/styles/large-16-9/s3/lead/2017/08/aerial_photography_how_to.jpg",

      productList: [
         {
            rowId: 1,
            toolList: [
               {
                  toolPicture:
                     "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHFnUiHIm99pJJj8LGVPUbNQW2mUBKfTUqAIMAGet9dag4MywH8w",
                  toolPictureAlt: "Dogs",
                  toolName: "Dog",
                  toolModelNumber: "Dangeours Creature",
                  toolDescription: "Bites",
                  toolUrl: "https://google.com/"
               },
               {
                  toolPicture:
                     "http://cdn.akc.org/content/hero/puppy-boundaries_header.jpg",
                  toolPictureAlt: "Awesome Picture Alt",
                  toolName: "Sheppp",
                  toolModelNumber: "K9",
                  toolDescription: "Cheatted",
                  toolUrl: "https://google.com/"
               }
            ]
         },
         {
            rowId: 2,
            toolList: [
               {
                  toolPicture:
                     "https://3c1703fe8d.site.internapcdn.net/newman/gfx/news/hires/2016/575ff5d2ca7f8.jpeg",
                  toolPictureAlt: "Awesome Picture Alt",
                  toolName: "Monkey",
                  toolModelNumber: "KD4",
                  toolDescription: "Keep distance",
                  toolUrl: "https://google.com/"
               }
            ]
         }
      ]
   }
];

/**
 * returns the equipmentId
 * @return {Object}
 */

// Equipment ID
// Equipment Title
// Equipment BG IMG

// There needs to be a way to re-factor this ---------

// for(var keys in dataEquipmentList) {
//    var equipmentId = dataEquipmentList[keys].equipmentId;
//    console.log(equipmentId);
// }
// for(var keys in dataEquipmentList) {
//    var equipmentTitle = dataEquipmentList[keys].equipmentTitle;
//    console.log(equipmentTitle);
// }
// for(var keys in dataEquipmentList) {
//    var equipmentMainBgImg = dataEquipmentList[keys].equipmentMainBgImg;
//    console.log(equipmentMainBgImg);
// }

// for(var keys in dataEquipmentList) {
//    var key = dataEquipmentList[keys];
//     console.log(key.equipmentId);
//     console.log(key.equipmentTitle);
//     console.log(key.equipmentMainBgImg);
// }

//var equipmentIds = [];

// for(var keys in dataEquipmentList) {
//    var key = dataEquipmentList[keys];
//    equipmentIds.push(key);
// }

// function getEquipmentIds() {
//    for(var keys in dataEquipmentList) {
//       var key = dataEquipmentList[keys];
//    }
// }

// getEquipmentIds();

// function getEquipmentId() {
//    var equipmentIdList = [];
//    for(var keys in dataEquipmentList) {
//       var key = dataEquipmentList[keys];
//       equipmentIdList.push(key);
//    }
//    equipmentIds.concat{equipmentIdList);
// }
//    getEquipmentId();

// console.log("Hello" + equipmentIds);
// getEquipmentId();

// if( getEquipmentId()) {
//    console.log("It's a match!");
// }

//////////
// Mindmap Code
//////////

var equipmentRemove = false;
var backButton = document.querySelector(".md-mindmap__back-button");
var equipmentList = document.querySelectorAll(".md-bubble");

equipmentList.forEach(function(item) {
   var equipmentId = parseInt(item.getAttribute("data-equipment-id"), 10);
   var mindMap = document.querySelector(".md-mindmap");

   // if(mainImg.style.transform = ("scale(20)")) {
   //    mainImg.style.transform = ("scale(1)");
   // }

   item.addEventListener("click", function() {
      var mainImg = document.querySelector(".md-mindmap__main-img");
      var animateSpeed = 1;
      var imageScale = 20;

      mainImg.style.transition = animateSpeed + "s";
      mainImg.style.transform = "scale(" + imageScale + ")";

      var obj = dataEquipmentList.find(function(data) {
         return data.equipmentId == equipmentId;
      });

      if (obj) {
         var equipmentBox = [
            '<div class="md-equipment-box__outer">',
            '<div class="md-equipment-box__inner">',

            '<article class="md-product-box">',

            '<header class="md-product-box__header md-product-box__border-bottom">',
            '<div class="text-center block-link">',
            '<span class="block u_mb--2">RECOMMENDED PRODUCTS</span>',
            '<h3 class="fs_oak t_color--highlight u_mb--0 u_mt--0">',
            obj.equipmentId,
            ". ",
            obj.equipmentTitle,
            "</h3>",
            "</div>",
            "</header>",

            '<div class="md-product-box__list">',
            // Codepen tidy messed this up
            obj.productList
               .map(function(list, index) {
                  return [
                     '<div class="md-product-box__row">',
                     '<div class="md-product-box__row-outer">',
                     '<div class="md-product-box__row-inner">',

                     '<div class="slider">',

                     '<div class="md-product-box__item-number-wrap">',
                     '<span class="md-circle md-circle--mid md-circle--green md-circle--inverse">',
                     list.rowId,
                     "</span>",
                     "</div>",

                     '<div class="md-slide-product__item-list slider__wrapper">',
                     list.toolList
                        .map(function(tool, index) {
                           return [
                              '<div class="md-slide-product__item slider__item">',
                              '<div class="md-slide-product__main-sidebar">',
                              '<div class="md-slide-product__card">',
                              '<img class="position-center" src="',
                              tool.toolPicture,
                              '" alt="',
                              tool.toolPictureAlt,
                              '">',
                              "</div>",
                              "</div>",
                              '<div class="md-slide-product__main-content">',
                              '<div class="md-slide-product__header">',
                              '<h3 class="md-slide-product__title"><b>',
                              tool.toolName,
                              "</b> ",
                              tool.toolModelNumber,
                              "</h3>",
                              '<span class="md-slide-product__sub-title">',
                              tool.toolDescription,
                              "</span>",
                              "</div>",
                              '<a href="',
                              tool.toolUrl,
                              '" class="md-slide-product__link"> View Product</a>',
                              "</div>",
                              "</div>"
                           ].join("");
                        })
                        .join(""),
                     "</div>",

                     "</div>",

                     "</div>",
                     "</div>",
                     "</div>"
                  ].join("");
               })
               .join(""),

            "</div>",

            "</article>",

            "</div>",
            "</div>"
         ].join("");

         var equipmentBoxNode = document.createElement("div");
         equipmentBoxNode.className = "md-equipment-box";
         // equipmentBoxNode.setAttribute('style', 'background-image: url(' + obj.equipmentMainBgImg + ')');
         equipmentBoxNode.style.backgroundImage = "url(" + obj.equipmentMainBgImg + ")";
         equipmentBoxNode.innerHTML = equipmentBox;
         mindMap.appendChild(equipmentBoxNode);
   
         carouselCode();
         
         window.history.pushState(
            "page2",
            "Title",
            "/" + obj.equipmentId + "-" + obj.equipmentTitle
         );

         equipmentBoxNode.style.opacity = "0";
         equipmentBoxNode.style.transform = "scale(0.7)";
         equipmentBoxNode.style.transition = ".5s linear";

         setTimeout(function() {
            equipmentBoxNode.style.opacity = "1";
            equipmentBoxNode.style.transform = "scale(1)";
         }, 270);

         var productBox = document.querySelector(".md-product-box");
         productBox.style.opacity = "0";
         productBox.style.transition = ".5s linear";

         setTimeout(function() {
            productBox.style.opacity = "1";
         }, 620);

         // Write HTML with the code
         // Create the equipment box
         // loop over the productList
         // loop over the toolList
         // loop over the keys inside the tool

         //          console.log(obj.equipmentId, obj.equipmentTitle, obj.equipmentMainBgImg);
         //          obj.productList.forEach(function(list, index) {
         //             console.log(list.rowId);
         //             list.toolList.forEach(function(tool, index) {
         //                console.log(tool);
         //                console.log(tool.toolPicture, tool.toolName, tool.toolModelNumber, tool.toolDescription, tool.toolUrl);
         //             });

         //          });

         //console.log(obj.productList[0].rowId);
         // var mindMap = document.querySelector('.md-mindmap');
         // mindMap.appendChild(equipmentView);
      } else {
         console.error("Item not found");
      }

      //  backButton.addEventListener('click', function() {
      //       history.back();
      //       equipmentBoxNode.remove();
      //       // equipmentRemove = true;
      //       // equipmentRemove = false;
      // })

      function buttonCleaner() {
         history.back();
         backButton.removeEventListener("click", buttonCleaner);
         productBox.style.transition = ".27s linear";
         productBox.style.opacity = "0";
         setTimeout(function() {
            equipmentBoxNode.style.opacity = "0";
            equipmentBoxNode.style.transform = "scale(0.5)";
         }, 200);

         setTimeout(function() {
            equipmentBoxNode.remove();
         }, 700);

         setTimeout(function() {
            mainImg.style.transform = "scale(1)";
         }, 270);
      }

      backButton.addEventListener("click", buttonCleaner);
   });
});

// On click bubble
// - zoom the image
// -append other image with opacity 0
// - make it opacity 1

// function match() {
//    var equipmentList = document.querySelectorAll('.md-bubble');

// equipmentList.forEach(function(item) {
//     var equipmentId = item.getAttribute('data-equipment-id');

//     item.addEventListener('click', function(){
//        console.log(equipmentId);
//        for (var item of equipmentList) {
//           if (item.equipmentId === equipmentId) return item;
//         }
//     })

// })

// }

// var equipmentList = document.querySelectorAll('.md-bubble');

// equipmentList.forEach(function(item) {
//     var equipmentId = item.getAttribute('data-equipment-id');

//     item.addEventListener('click', function(){
//       //console.log(equipmentId);
//        console.log(match(equipmentId));
//       // if (match(equipmentId, equipmentList) === true) {
//       //    console.log('helo')
//       // }

//     })

// })

// function matchBubble() {

//    var equipmentList = document.querySelectorAll('.md-bubble');

//     equipmentList.forEach(function(item) {
//        var equipmentId = item.getAttribute('data-equipment-id');

//        item.addEventListener('click', function(){

//           console.log(equipmentId);

//             for (var item of equipmentList) {
//                if (equipmentId === ) {
//                    console.log('match')
//                }
//             }

//         })
//      })

// }
// matchBubble();

// var equipmentList = document.querySelectorAll('.md-bubble');

// equipmentList.forEach(function(item) {
//     var equipmentId = item.getAttribute('data-equipment-id');

//     item.addEventListener('click', function(){
//       console.log(equipmentId);

//       // if(equipmentId === getEquipmentId()) {
//       //    console.log("It's a match!");
//       //    return;
//       // }

//       // console.log(getEquipmentId());
//        //console.log(equipmentIds[equipmentId]);
//       // if(equipmentId === getEquipmentId()) {
//       //   console.log(equipmentId + "It's a match with " + getEquipmentId());
//       // }

//     })

// })

// function match(id, list) {
//   for (let item of list) {
//     if (item.equipmentId === id) return item
//   }
//   return null
//}

// function filterBubbles() {
//    var equipmentList = document.querySelectorAll('.md-bubble');

//    equipmentList.forEach(function(item) {
//       var equipmentId = item.getAttribute('data-equipment-id');

//        item.addEventListener('click', function(){
//             //console.log(equipmentId);

//             for(var keys in dataEquipmentList) {
//                var keyArray = [];
//                var key = dataEquipmentList[keys].equipmentId;

// //               keyArray.push(keys);
// //                console.log(keyArray);

// //                for (var i=0; i < keyArray.length; i++) {
// //                    if (equipmentId === keyArray[i]) {
// //                        console.log(equipmentId + " It's a match with " + keyArray[0]);
// //                    }
// //                }

//                //  if(equipmentId === keyArray) {
//                //    console.log(equipmentId + "It's a match with " + key);
//                // } else {
//                //    console.log("else" + key);
//                // }

//             }

//        })

//    })
// }
// filterBubbles();

// Function that loops throught the keys
// We have all the keys displayed, and now I want to take one, but also another one for a different purpose
// Return stops it after one literation; loop over in array and return an array?

// function objectEquipmentList(key) {
//    for(var keys in dataEquipmentList) {
//       var objKeyData = dataEquipmentList[keys];
//       var keyy = objKeyData.key;

//       return keyy;
//    }

// }

// console.log(objectEquipmentList(equipmentId));

// Get all bubbles
// On bubble click, get the bubble ID
// Filter bubble ID with the JSON objeect - if bubble ID matched data ID, show it

//
//
//
//
//
//
// User clicks bubble
//
//
// Have Array of Objects of: Product Item
//
// Product Object will require:
// - Background IMG
// - Array of tools: Title, subtitle, product image, description
// Array of tools
//
//
// Product
// - BG IMG
// - Product Tools Nr.16 [
//       Tool 1 (row) [
//         [
//          - Tool Image: https: random.jpg
//          - Tool Title: Firework
//          - Tool Subtitle: Sparking
//          - Tool Description: For use in sky
//          - Tool Link: https: product-link.com
//         ],
//         [
//          - Tool Image: helmet.jpsd
//          - Tool Title: Small helmet
//          - Tool Subtitle: Indestructible
//          - Tool Description: For use on the head to protect
//          - Tool Link: https: helmet-limnk.com
//          ]
//       ],
//       Tool 2 (row)[
//         [
//          - Tool Image: https: random.jpg
//          - Tool Title: Firework
//          - Tool Subtitle: Sparking
//          - Tool Description: For use in sky
//          - Tool Link: https: product-link.com
//         ],
//         [
//          - Tool Image: helmet.jpsd
//          - Tool Title: Small helmet
//          - Tool Subtitle: Indestructible
//          - Tool Description: For use on the head to protect
//          - Tool Link: https: helmet-limnk.com
//          ]
//       ],
//
//
//
//    ]
//
//
//
//    Clicking the bubble will zoom the image MEANWHILE
//       fading it AND AT THE SAME TIME
//       the Bubble image from 0 to 100 opacity
//
//
//
//
//
//
// Click bubble will reduce opacity of the other bubbles
function carouselCode() {
      function generateList(items) {
         var ul = document.createElement("ul");
         ul.className = "slider-toggles";

         for (var i = 1; i <= items.length; i++) {
            var li = document.createElement("li");
            if (i == 1) {
               li.className = "slider-toggles__item is-active";
            } else {
               li.className = "slider-toggles__item";
            }
            li.setAttribute("data-slide", i);
            ul.appendChild(li);
         }
         return ul;
      }

      var sliders = document.querySelectorAll(".slider");
      Array.from(document.querySelectorAll(".slider"), function(slider) {
         var items = slider.querySelectorAll(".slider__item");
         if (items.length > 1) {
            slider.appendChild(generateList(items));
         }
      });

      var step = 440;
      var slidesCount = document.querySelectorAll(".slider__item").length;
      var toggles = document.querySelectorAll(".slider-toggles__item");

      for (var i = 0; i < toggles.length; i++) {
         toggles[i].addEventListener("click", changeSlide);
      }

      function changeSlide(e) {
         var slider = e.target.closest(".slider");
         var blockToMove = slider.querySelector(".slider__wrapper");
         function makeCurrentToogleActive(elem) {
            toggles = slider.querySelectorAll(".slider-toggles__item");

            for (var i = 0; i < toggles.length; i++) {
               toggles[i].classList.remove("is-active");
            }
            elem.classList.add("is-active");
         }
         makeCurrentToogleActive(e.target);

         var num = e.target.dataset.slide;
         var moveValue = (num - 1) * step;
         if (moveValue == 0) {
            blockToMove.style.marginLeft = "0px";
            return;
         }
         blockToMove.style.marginLeft = -moveValue + "px";
      }
}

    </script>
</body>

</html>
