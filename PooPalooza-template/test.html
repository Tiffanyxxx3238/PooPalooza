<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>衛教</title>

  <!-- Favicons -->
  <link href="images/icon.png" rel="icon">
  <link href="images/icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">

  <style>
    #calendar {
      margin: 0 auto;
      max-width: 900px;
      background-color: #ffffff;
      border-radius: 6px;
      box-shadow: 0 1px 2px #c3c3c3;
    }

    .login-container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      padding: 20px;
    }
  </style>
</head>

<body>

  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="container-fluid container-xl d-flex align-items-center">
      <a href="index.html" class="logo d-flex align-items-center me-auto">
        <img src="images/icon.png" alt="">
        <h1 class="sitename">PooPalooza</h1>
      </a>
      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html#hero" class="active">主頁</a></li>
          <li class="dropdown">
            <a href="#"><span>功能</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="#map">廁所地圖</a></li>
              <li><a href="#education">衛教</a></li>
              <li><a href="#aboutus">關於我們</a></li>
            </ul>
          </li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>
      <a class="btn-getstarted" href="#login">登入</a>
      <a class="btn-getstarted" href="#register">註冊</a>
    </div>
  </header>

  <script src="//cdn.amcharts.com/lib/5/index.js"></script>
  <script src="//cdn.amcharts.com/lib/5/hierarchy.js"></script>
  <script src="//cdn.amcharts.com/lib/5/themes/Animated.js"></script>
  <div id="chartdiv"></div>
  <dialog id="confirmationDialog">
    <!-- content -->
    <button aria-label="Close modal" id="buttonCloseX">✖</button>
    
    <h1>Modal message here</h1>
    <p>Are you sure to confirm this action?</p>
    
    <button id="buttonOk">Confirm</button>
    <button id="buttonClose">Close</button>
    <script>
            // buttonOk.js
      const buttonOk = document.querySelector("#buttonOk");
      // Confirm button functionality
      buttonOk?.addEventListener("click", () => {
        confirmationDialog.close();
        result.textContent = "Result: <dialog> was confirmed! (click event)";
      });

    </script>
    <script>
      // buttonClose.js
      const buttonClose = document.querySelector("#buttonClose");
      // Close button functionality
      buttonClose?.addEventListener("click", () => {
        confirmationDialog.close();
        result.textContent = "Result: <dialog> was closed (click event)";
      });

    </script>
    <script>
      // buttonCloseX.js
      const buttonCloseX = document.querySelector("#buttonCloseX");

      // X button functionality
      buttonCloseX?.addEventListener("click", () => {
        confirmationDialog.close();
        result.textContent = "Result: <dialog> was closed via X button (click event)";
      });

    </script>
  </dialog>


  <div id="result">Result: N/A</div>

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    }

    #chartdiv {
      width: 100%;
      height: 850px;
    }
  </style>
  <script>
        // elements IDs attribution
        const openButton = document.querySelector("#openButton");
        const confirmationDialog = document.querySelector("#confirmationDialog");
        
        const result = document.querySelector("#result");

        // open dialog (triggered by clicking openButton)
        openButton.addEventListener("click", () => {
          openDialog();
        });

        function openDialog() {
          if (typeof confirmationDialog.showModal === "function") {
            confirmationDialog.showModal();
          } else {
            alert("The dialog HTML5 API is not supported by this browser. Please, update.");
          }
        }

        function handleClose() {
          confirmationDialog.close();
          result.textContent = "Result: <dialog> was closed (click event)";
        }
        // esc key
        confirmationDialog.addEventListener("cancel", (event) => {
          result.textContent = "Result: <dialog> was canceled by ESC key press (cancel event)";
        });
  </script>
  <script>
    var data = [{
    //name: "大便POOP",
    value: 60,
    image: "images/education-poop.png",
    children: [
      {
        name: "飲食",
        value: 30,
        image: "images/education-food.png",
        children: [
          {
            name: "API Management",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "IoT",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "O2O Integration",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "Project Management",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "Test-fit Management",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          }
        ]
      },{
        name: "大便知識",
        value: 30,
        image: "images/education-poop.png",
        children: [
        {
          name: "顏色&形狀",
          value: 20,
          image: "https://img.icons8.com/flat-round/344/pinguin--v1.png",
          onClick: function() {
            openDialog(); // 開啟對話框
          }
        },
          {
            name: "IoT",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "O2O Integration",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "Project Management",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "Test-fit Management",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          }
        ]
      },

      {
        name: "運動",
        value: 30,
        image: "images/education-exercise.png",
        children: [
          {
            name: "PWA",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "Ream-time Tracking",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "Mobile App",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          }
        ]
      },
      {
        name: "情緒",
        value: 30,
        image: "images/education-emotion.png",
        children: [
          {
            name: "Payments",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "E-Signature",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "Digital Wallet",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "Blockchain",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          }
        ]
      },
      {
        name: "疾病",
        value: 30,
        image: "images/education-disease.png",
        children: [
          {
            name: "Workflow",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "Budget Management",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "RPA",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "CRM",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "DMS",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          },
          {
            name: "Scheduling",
            value: 20,
            image: "https://img.icons8.com/flat-round/344/pinguin--v1.png"
          }
        ]
      }
    ]
  }];

  // Create root and chart
  var root = am5.Root.new("chartdiv");

  root.setThemes([
    am5themes_Animated.new(root)
  ]);

  var container = root.container.children.push(
    am5.Container.new(root, {
      width: am5.percent(100),
      height: am5.percent(100),
      layout: root.verticalLayout
    })
  );

  var series = container.children.push(
    am5hierarchy.ForceDirected.new(root, {
      downDepth: 1,
      initialDepth: 1,
      valueField: "value",
      categoryField: "name",
      childDataField: "children",
      minRadius: 20,
      maxRadius: 60,
      centerStrength: 0.5,
      manyBodyStrength: -1,
      nodePadding: 40
    })
  );

  // Set up labels
  series.labels.template.setAll({
    fill: am5.color(0x000000),
    y: 45,
    // y: am5.percent(10),
    oversizedBehavior: "none"
  });
// 節點樣式設置
series.nodes.template.setup = function(target) {
  target.events.on("dataitemchanged", function(ev) {
    var context = ev.target.dataItem.dataContext;

    // 設置圖片
    target.children.push(am5.Picture.new(root, {
      width: 40,
      height: 40,
      centerX: am5.percent(50),
      centerY: am5.percent(50),
      src: context.image
    }));

    // 添加點擊事件
    target.events.on("click", function() {
      if (context.onClick) {
        context.onClick(); // 執行自定義點擊事件
      }
    });
  });
};

// 將資料設置到圖表
series.data.setAll(data);
series.set("selectedDataItem", series.dataItems[0]);
  </script>
</body>

</html>
